\documentclass{scrartcl}
\usepackage{../../styles/style}

%\darkmode
% https://jangsookim.github.io/lectures/vscode/vscode_lecture0.html

\title{
    Introduction to Commutative Algebra \\ \Large
    --- Solution of Homework 5 ---
    }
\author{20190262 Jeongwoo Park}
\date{}

\begin{document}
    \maketitle

    \section{Solutions}

    \begin{proof}[Solution of Problem 1]
        We need a lemma.

        \begin{Lemma}\label{radical of an ideal of Z}
            Let $\langle a \rangle \trianglelefteq \mathbb{Z}$ be a non-zero ideal. If $a = \prod_{i=1}^m p_i^{e_i}$ is the prime factorization of $a$ where $p_\bullet$ are distinct prime numbers and $e_\bullet \ge 1$ are integers, then the radical of $\langle a \rangle$ is $\left \langle \prod_{i=1}^m p_i \right \rangle$.
        \end{Lemma}

        \begin{proof}
            Simple calculation shows that
            $$ \sqrt{\langle a \rangle} = \sqrt{\prod_i \langle p_i \rangle^{e_i}} = \bigcap_i \sqrt{\langle p_i \rangle^{e_i}} = \bigcap_i \langle p_i \rangle $$
            Since $p_\bullet$ are distinct, they are coprime pairwisely. Hence, the intersection becomes the produce, so we can conclude that
            $$ \bigcap_i \langle p_i \rangle = \prod_i \langle p_i \rangle = \left \langle \prod_i p_i \right \rangle $$
            This completes a proof of the lemma.
        \end{proof}

        Let $Q \trianglelefteq \mathbb{Z}$ be a non-zero primary ideal of $\mathbb{Z}$, and let $a$ be a generator of the ideal. If we write the prime factorization of $a$ as $\prod_{i=1}^m p_i^{e_i}$ where $p_\bullet$ are distinct prime numbers and $e_\bullet \ge 1$ are integers, then the radical $\langle \prod_i p_i \rangle$ must be prime because $Q$ is primary. Thus, $m=1$ and $Q = \langle p_1^{e_1} \rangle$ and this completes the proof.
    \end{proof}

    \begin{proof}[Solution of Problem 2]
        It is enough to show that the inverse image of a closed set by the map $\phi^*$ is closed, or equivalently, $(\phi^*)^{-1}(V(I))$ is closed for all ideal $I \trianglelefteq R$. I'll show that $(\phi^*)^{-1}(V(I)) = V(S \cdot \phi(I))$

        Let's consider the direct inclusion, i.e., $\subseteq$. Let $P \in (\phi^*)^{-1}(V(I))$, or equivalently, $\phi^*(P) = \phi^{-1}(P) \supseteq I$. This implies that $P \supseteq \phi(\phi^{-1}(P)) \supseteq \phi(I)$. By considering ideals generated by each of them, we have a relation $P \supseteq S \cdot \phi(I)$. Thus, $P \in V(S \cdot \phi(I))$.

        Conversely, let's assume that $P \in V(S \cdot \phi(I))$, or equivalently, $P \supseteq S \cdot \phi(I) \supseteq \phi(I)$. By taking the inverse image, we have a relation $\phi^*(P) = \phi^{-1}(P) \supseteq \phi^{-1}(\phi(I)) \supseteq I$, hence $\phi^*(P) \in V(I)$ holds. This implies that $P \in (\phi^*)^{-1}(V(I))$, and this completes the proof.
    \end{proof}

    \begin{proof}[Solution of Problem 3]
        First, let's show that the first condition implies the second one. We need a lemma.

        \begin{Lemma}\label{spectrum lemma}
            Let $\phi : A \to B$ be a ring map. For a prime ideal $\mathfrak{p} \trianglelefteq A$, it is in the image of the induced map $\phi^* : \Spec B \to \Spec A$ if and only if $\phi^{-1}(B \cdot \phi(\mathfrak{p})) = \mathfrak{p}$.
        \end{Lemma}

        \begin{proof}
            For the direct implication, let's assume that $\mathfrak{p} = \phi(\mathfrak{q})$ where $\mathfrak{q} \trianglelefteq B$ is a prime. Since $\phi^{-1}(B \cdot \phi(\mathfrak{p})) \supseteq \mathfrak{p}$, it is enough to show the reversed inclusion. Let $a \in \phi^{-1}(B \cdot \phi(\mathfrak{p}))$, then there are elements $b_i \in B$ and $a_i \in \mathfrak{p}$ such that $\phi(a) = \sum_i b_i \phi(a_i)$. Since $a_i \in \mathfrak{p} = \phi^{-1}(\mathfrak{q})$, we can deduce that $\phi(a) \in \mathfrak{q}$, i.e., $a \in \phi^{-1}(\mathfrak{q})$. Hence, the equality $\phi^{-1}(B \cdot \phi(\mathfrak{p})) = \mathfrak{p}$ holds.

            Conversely, let's assume that $\phi^{-1}(B \cdot \phi(\mathfrak{p})) = \mathfrak{p}$. Let's consider a localization at $\mathfrak{p}$, then we have a commutative diagram
            $$
            \begin{tikzcd}
                A \arrow[r, "\phi"] \arrow[d] & B \arrow[d]\\
                A_\mathfrak{p} \arrow[r, "\phi_\mathfrak{p}"] & B_\mathfrak{p}
            \end{tikzcd}
            $$
            where the vertical maps are natural and $\phi_\mathfrak{p}$ is the induced map by the universal property. It is not too hard to show that the module $B_\mathfrak{p}$ can be identified with $S^{-1}B$ under the identification $\frac{x}{s} \leftrightsquigarrow \frac{x}{\phi(s)}$, where $S = \phi(\mathfrak{p}^c)$, in particular, we can consider $B_\mathfrak{p}$ as a localized ring. Moreover, $\phi_\mathfrak{p}$ forms a ring map because this satisfies that
            $$\phi_\mathfrak{p} (1) = 1$$
            \begin{align*}
                \phi_\mathfrak{p} \left( \frac{a_1}{s_1}+\frac{a_2}{s_2} \right) &= \phi_\mathfrak{p} \left( \frac{s_2 a_1 + s_1 a_2}{s_1 s_2} \right)\\
                &= \frac{\phi(s_2 a_1 + s_1 a_2)}{s_1 s_2}\\ 
                &= \frac{s_2 \phi(a_1) + s_1 \phi(a_2)}{s_1 s_2}\\ 
                &= \frac{\phi(a_1)}{s_1} + \frac{\phi(a_2)}{s_2}\\ 
                &= \phi_\mathfrak{p} \left( \frac{a_1}{s_1} \right) + \phi_\mathfrak{p} \left( \frac{a_2}{s_2} \right)
            \end{align*}
            and
            \begin{align*} 
                \phi_\mathfrak{p} \left( \frac{a_1}{s_1} \cdot \frac{a_2}{s_2} \right) &= \frac{\phi(a_1 a_2)}{s_1 s_2}\\ 
                &= \phi_\mathfrak{p} \left( \frac{a_1}{s_1} \right) \cdot \phi_\mathfrak{p} \left( \frac{a_2}{s_2} \right)
            \end{align*}
            Because image, inverse image, sum commute with the localization, we have the identity
            $$ (\phi_\mathfrak{p})^{-1}(B_\mathfrak{p} \cdot \phi_\mathfrak{p}(\mathfrak{p}_\mathfrak{p})) = \left(\phi^{-1}(B \cdot \phi(\mathfrak{p}))\right)_\mathfrak{p} = \mathfrak{p}_\mathfrak{p} $$
            Hence, there must be a maximal ideal $\mathfrak{m} \trianglelefteq B_\mathfrak{p}$ containing $B_\mathfrak{p} \cdot \phi_\mathfrak{p}(\mathfrak{p}_\mathfrak{p})$, and the prime ideal $\phi_\mathfrak{p}^{-1}(\mathfrak{m}) \supseteq (\phi_\mathfrak{p})^{-1}(B_\mathfrak{p} \cdot \phi_\mathfrak{p}(\mathfrak{p}_\mathfrak{p})) = \mathfrak{p}_\mathfrak{p}$ must be the maximal ideal $\mathfrak{p}_\mathfrak{p}$. By the correspondence theorem, there must be a prime ideal of $B$ whose inverse image is $\mathfrak{p}$, and this completes the proof.
        \end{proof}

        The implication follows immediately from the lemma above.

        Let's consider the implication from (2) to (3). By the assumption, there is a prime ideal $\mathfrak{p} \trianglelefteq B$ such that $\phi^{-1}(\mathfrak{p}) = \mathfrak{m}$ holds. Thus, we have
        $$ \phi(\mathfrak{m}) \cdot B = \phi(\phi^{-1}(\mathfrak{p})) \cdot B \subseteq \mathfrak{p} \cdot B = \mathfrak{p} \subsetneq B $$
        and the is what we want to show.

        Now, let's show that the third one is a sufficient condition of the fourth one. Let's pick a non-zero element $x \in M$, then there is a proper ideal $I \trianglelefteq A$ such that $A \cdot x \cong A/I$ as $A$-modules since $A \cdot x$ is a non-zero simple module. Let $\mathfrak{m} \trianglelefteq A$ be a maximal ideal containing $I$, then we have a surjective map $B \otimes_A (A/I) \twoheadrightarrow B \otimes_A (A/\mathfrak{m})$ which is obtained by tensoring on the surjective map $A/I \twoheadrightarrow A/\mathfrak{m}$. Because $B \otimes_A (A/\mathfrak{m}) \cong B/(\mathfrak{m} \cdot B)$ is non-zero, hence $B \otimes_A (A/I) \cong B \otimes_A (A \cdot x)$ is non-zero. Because $B$ is flat, an injection $A \cdot x \xhookrightarrow{} M$ induces a monomorphism $B \otimes_A (A \cdot x) \xhookrightarrow{} B \otimes_A M$, thus the module $B \otimes_A M$ is non-zero. Hence, the third condition implies the fourth one.

        Let's prove that the fourth property deduces the fifth one. Since $B$ is flat and the diagram
        $$
        \begin{tikzcd}
            M \arrow[r] \arrow[d, "\cong", "x \mapsto 1 \otimes x"'] & B \otimes_A M\\ 
            A \otimes_A M \arrow[ru]
        \end{tikzcd}
        $$
        commutes, it is enough to show that the map $\phi : A \to B$ is injective. If $B \otimes_A \ker \phi = 0$, then so is $\ker \phi$ by the assumption, and this will show the injectivity of the map $\phi$. Because the tensoring by $B$ commute with kernel, we have to show that the map $B \otimes_A A \to B \otimes_A B, b \otimes a \mapsto b \otimes \phi(a)$ is injective. We have a commutative diagram
        $$
        \begin{tikzcd}
            B \otimes_A A \arrow[r] \arrow[d, "\cong", "b \otimes a \mapsto ab"'] & B \otimes_A B\\ 
            B \arrow[ur, "b \mapsto b \otimes 1"']
        \end{tikzcd}
        $$
        so it is enough to show that the map $B \to B \otimes_A B, b \mapsto b \otimes 1$ is injective. However, there is a map $B \otimes_A B \to B, b_1 \otimes b_2 \mapsto b_1 b_2$ by the universal property of tensor product because a product is bilinear. The composition
        $$ B \overset{b \mapsto b \otimes 1}{\longrightarrow} B \otimes_A B \overset{b_1 \otimes b_2 \mapsto b_1 b_2}{\longrightarrow} B $$
        is the identity, in particular, the map at the left is injective. This is what we want to show.


    \end{proof}
\end{document}